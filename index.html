<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Error 404</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=UnifrakturCook:wght@700&family=EB+Garamond&display=swap" rel="stylesheet" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Cinzel Decorative', serif;
      background-color: #0b0605;
      overflow: hidden;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background-image: url('https://www.transparenttextures.com/patterns/dark-mosaic.png');
      opacity: 0.03;
      z-index: 0;
    }

    .humo {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: url('https://i.gifer.com/EFI0.gif') center center / cover no-repeat;
      opacity: 0.15;
      z-index: 1;
      transition: opacity 2s ease;
    }

    .pantalla-inicial {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle, #1e0f0f, #000);
      animation: fadeIn 2s ease-in-out;
    }

    .pantalla-inicial h1 {
      font-family: 'UnifrakturCook', cursive;
      font-size: 2.5em;
      color: #d4b79f;
      text-align: center;
      margin-bottom: 40px;
      text-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
      z-index: 3;
    }

    .pantalla-inicial button {
      background: linear-gradient(145deg, #2e1d1d, #000);
      border: 2px solid #a67b5b;
      color: #d4b79f;
      padding: 12px 35px;
      font-size: 1.2em;
      font-family: 'Cinzel Decorative', serif;
      cursor: pointer;
      transition: all 0.4s ease;
      z-index: 3;
    }

    .pantalla-inicial button:hover {
      background: #a67b5b;
      color: #1a1110;
      box-shadow: 0 0 25px rgba(166, 123, 91, 0.8);
    }

    .carta {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: url('https://cdn.pixabay.com/photo/2016/11/29/02/05/paper-1866844_1280.jpg') no-repeat center center fixed;
      background-size: cover;
      z-index: 1;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding-top: 100px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 1.2s ease;
    }

    .contenido-carta {
      background-color: rgba(0, 0, 0, 0.78);
      padding: 60px;
      border: 2px solid #5c3d3d;
      border-radius: 12px;
      max-width: 800px;
      width: 90%;
      color: #f0e6dc;
      font-family: 'EB Garamond', serif;
      box-shadow: 0 0 40px rgba(0,0,0,0.7);
      animation: desenrollar 1.5s ease-out forwards;
      transform: scaleY(0);
      transform-origin: top center;
      text-align: justify;
      position: relative;
      display: flex;
      gap: 20px;
    }

    /* Contenedor flex para organizar texto y botones */
    .contenido-texto {
      flex: 1 1 auto;
    }

    /* Contenedor para los botones a los costados */
    .botones-laterales {
      display: flex;
      flex-direction: row;
      gap: 40px;
      /* Ajusta seg√∫n necesidad */
      align-items: center;
    }

    .botones-izquierda, .botones-derecha {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    /* Botones styling */
    .traducir-btn {
      background: linear-gradient(145deg, #2e1d1d, #000);
      border: 2px solid #a67b5b;
      color: #d4b79f;
      padding: 12px 25px;
      font-size: 1.1em;
      font-family: 'Cinzel Decorative', serif;
      cursor: pointer;
      transition: all 0.4s ease;
      border-radius: 6px;
      width: 130px;
      text-align: center;
    }

    .traducir-btn:hover:enabled {
      background-color: #a67b5b;
      color: #1a1110;
      box-shadow: 0 0 25px rgba(166, 123, 91, 0.8);
    }

    .traducir-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .firma {
      text-align: right;
      font-style: italic;
      margin-top: 40px;
      font-size: 1.1em;
      width: 100%;
    }

    .sorpresa {
      max-width: 300px;
      border: 2px solid #a67b5b;
      border-radius: 12px;
      padding: 20px;
      color: #d4b79f;
      font-family: 'EB Garamond', serif;
      font-size: 1.1em;
      background-color: rgba(0,0,0,0.7);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      user-select: none;
      box-shadow: 0 0 30px rgba(166, 123, 91, 0.9);
    }

    .sorpresa img {
      max-width: 100%;
      border-radius: 8px;
      margin-bottom: 15px;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes desenrollar {
      to {
        transform: scaleY(1);
      }
    }
  </style>
</head>
<body>

  <div class="humo" id="humo"></div>

  <div class="pantalla-inicial" id="pantallaInicial">
    <button onclick="mostrarCarta()">Open</button>
  </div>

  <div class="carta" id="carta">
    <div class="contenido-carta" id="contenidoCarta">

      <div class="contenido-texto">
        <p id="textoCarta"></p>
        <div class="firma" id="firma">
          And I‚Äôm sorry‚Äîif I ever made you do something you didn‚Äôt want to, if I hurt you, or for any bad moments I may have caused... Love you.<br />By: L‚ú®
        </div>
      </div>

      <div class="botones-laterales">
        <div class="botones-izquierda">
          <button class="traducir-btn" id="btnTraducir" onclick="traducirTexto()" disabled>Traducir</button>
        </div>
        <div class="botones-derecha">
          <button class="traducir-btn" id="btnSorpresa" onclick="mostrarSorpresa()" style="display:none;">üéÅ Sorpresa</button>
          <button class="traducir-btn" id="btnReiniciar" onclick="reiniciarCarta()" style="display:none;">üîÑ Reiniciar</button>
        </div>
      </div>

      <div id="sorpresaContainer" style="display:none;">
        <!-- Aqu√≠ aparecer√° la imagen y el texto sorpresa -->
      </div>

    </div>
  </div>

  <button id="toggleAudio" onclick="toggleAudio()">üîá</button>
  <audio id="musicaFondo" src="music.mp3" preload="auto" loop></audio>

  <script>
    const textoOriginal = `I've never been good at explaining things, and this probably won't be the exception. But there are moments when you just feel like you have to say something. I guess this should be one of those.
I couldn't say exactly what it was, but there was something about you that stayed with me, even on the most ordinary days. I never mentioned it.
Meeting you was a strange accident‚Äîbut one of the good ones that I‚Äôd gladly repeat. Sometimes we don‚Äôt realize what we hold dear until it's time to let go.
Don‚Äôt worry. If one day, by chance, you think of me, don‚Äôt try to make sense of it all‚Äîjust smile, be happy, and shine, beautiful. After all, every time you fall, I‚Äôve seen you get back up. You can always achieve whatever you set your mind to.
Take good care of yourself.`;

    const textoTraducido = `Nunca he sido bueno explicando cosas, y probablemente esta no sea la excepci√≥n. Pero hay momentos en los que uno siente que debe dejar algo dicho. Supongo que este deber√≠a ser uno de esos.
No sabr√≠a decir qu√© fue exactamente, pero hubo algo en ti que logr√≥ quedarse conmigo, incluso en los d√≠as m√°s normales. Nunca lo mencion√©.
Coincid√≠ fue un accidente extra√±o, pero de los buenos que volver√≠a a repetir. A veces uno no se da cuenta de lo que tiene hasta que es momento de dejarlo ir.
No te preocupes. Si alg√∫n d√≠a, por casualidad, piensas en m√≠, no trates de entenderlo todo‚Äîsolo sonr√≠e, s√© feliz y brilla, hermosa. Despu√©s de todo, cada vez que caes, te he visto levantarte. Siempre puedes lograr lo que te propongas.
Cu√≠date mucho.`;

    const firmaOriginal = `And I‚Äôm sorry‚Äîif I ever made you do something you didn‚Äôt want to, if I hurt you, or for any bad moments I may have caused... Love you.<br>By: L‚ú®`;
    const firmaTraducida = `Y lo siento‚Äîsi alguna vez te hice hacer algo que no quer√≠as, si te lastim√©, o por cualquier mal momento que pude haber causado... Te quiero. T.A...<br>By: L‚ú®`;

    let traducido = false;

    function escribirTexto(elemento, texto, velocidad = 40, callback = null) {
      let i = 0;
      elemento.innerHTML = "";
      document.getElementById('btnTraducir').disabled = true;
      document.getElementById('btnSorpresa').style.display = 'none';
      // Limpiar sorpresa si estaba visible
      document.getElementById('sorpresaContainer').style.display = 'none';
      document.getElementById('sorpresaContainer').innerHTML = "";

      function escribir() {
        if (i < texto.length) {
          elemento.innerHTML += texto.charAt(i);
          i++;
          setTimeout(escribir, velocidad);
        } else {
          document.getElementById('btnTraducir').disabled = false;
          document.getElementById('btnSorpresa').style.display = 'block';
          if (callback) callback();
        }
      }
      escribir();
    }

    function mostrarCarta() {
      const pantalla = document.getElementById('pantallaInicial');
      const carta = document.getElementById('carta');
      const musica = document.getElementById('musicaFondo');
      const btnReiniciar = document.getElementById('btnReiniciar');

      pantalla.style.opacity = '0';
      setTimeout(() => {
        pantalla.style.display = 'none';
        carta.style.opacity = '1';
        carta.style.pointerEvents = 'auto';
        escribirTexto(document.getElementById('textoCarta'), textoOriginal);
        document.getElementById('firma').innerHTML = firmaOriginal;
        musica.play();
        document.getElementById('toggleAudio').innerText = 'üîä';
        btnReiniciar.style.display = 'none';
      }, 1000);
    }

    function traducirTexto() {
      if (document.getElementById('btnTraducir').disabled) return;

      if (!traducido) {
        escribirTexto(document.getElementById('textoCarta'), textoTraducido);
        document.getElementById('firma').innerHTML = firmaTraducida;
        document.getElementById('btnTraducir').innerText = "Ver original";
        traducido = true;
      } else {
        escribirTexto(document.getElementById('textoCarta'), textoOriginal);
        document.getElementById('firma').innerHTML = firmaOriginal;
        document.getElementById('btnTraducir').innerText = "Traducir";
        traducido = false;
      }
    }

    function mostrarSorpresa() {
      const container = document.getElementById('sorpresaContainer');
      container.style.display = 'flex';
      container.className = 'sorpresa';
      container.innerHTML = `
        <img src="presente.jpg" alt="Regalo Sorpresa" />
        <p>Intent√© terminarlo lo que te promet√≠ pero no pude y no creo poder dartelo as√≠ que es la √∫nica forma que veo regal√°rtela ‚ù§</p>
      `;

      const btnTraducir = document.getElementById('btnTraducir');
      const btnSorpresa = document.getElementById('btnSorpresa');
      const btnReiniciar = document.getElementById('btnReiniciar');

      btnTraducir.disabled = true;
      btnSorpresa.disabled = true;
      btnReiniciar.style.display = 'block';
    }

    function reiniciarCarta() {
      const sorpresaCont = document.getElementById('sorpresaContainer');
      sorpresaCont.style.display = 'none';
      sorpresaCont.innerHTML = "";

      const btnTraducir = document.getElementById('btnTraducir');
      const btnSorpresa = document.getElementById('btnSorpresa');
      const btnReiniciar = document.getElementById('btnReiniciar');

      btnTraducir.disabled = false;
      btnSorpresa.disabled = false;

      btnReiniciar.style.display = 'none';

      // Colocamos texto original directamente sin animaci√≥n para mejor UX al reiniciar
      document.getElementById('textoCarta').innerHTML = textoOriginal;
      document.getElementById('firma').innerHTML = firmaOriginal;

      traducido = false;
      btnTraducir.innerText = "Traducir";

      btnSorpresa.style.display = 'block';
    }

    function toggleAudio() {
      const musica = document.getElementById('musicaFondo');
      const btn = document.getElementById('toggleAudio');
      if (musica.paused) {
        musica.play();
        btn.innerText = 'üîä';
      } else {
        musica.pause();
        btn.innerText = 'üîá';
      }
    }

    setTimeout(() => {
      const humo = document.getElementById('humo');
      if (humo) {
        humo.style.opacity = '0';
      }
    }, 10000);
  </script>
</body>
</html>
